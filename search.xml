<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>如何用hexo搭建博客</title>
    <url>/posts/ed1adb0c/</url>
    <content><![CDATA[<h1 id="如何用hexo搭建博客"><a href="#如何用hexo搭建博客" class="headerlink" title="如何用hexo搭建博客"></a>如何用hexo搭建博客</h1><p>马上就能拥有自己的博客了，开不开心，激不激动；我用的是</p>
<ul>
<li>ubuntu18，处于windows的子系统</li>
<li>hexo是5.4.0</li>
<li>因为NexT主题比较成熟，所以先拿这个练练手，是8.8.0版本的</li>
</ul>
<p>更多信息可以在<a href="https://hexo.io/zh-cn/docs/">官网文档</a>查询，此外还看了<a href="https://www.bilibili.com/video/BV1Yb411a7ty/?spm_id_from=333.788.recommend_more_video.0">b站up主的超级良心视频</a></p>
<span id="more"></span>

<h2 id="安装准备"><a href="#安装准备" class="headerlink" title="安装准备"></a>安装准备</h2><h3 id="一、安装git和node-js"><a href="#一、安装git和node-js" class="headerlink" title="一、安装git和node.js"></a>一、安装git和node.js</h3><p><a href="http://git-scm.com/download/linux">git</a>，我要最新的，更新遇到的问题可以参考<a href="https://4xwi11.github.io/posts/ade40a32/">我的ubuntu软件更新失败解决</a></p>
<p><a href="https://github.com/nodesource/distributions">node.js</a>，就用长期支持的14版本吧</p>
<p><img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211003233927033.png" alt="image-20211003233927033"></p>
<p>最后检查</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git version</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>

<h3 id="二、安装hexo"><a href="#二、安装hexo" class="headerlink" title="二、安装hexo"></a>二、安装hexo</h3><p>可能遇到错误，我直接<code>sudo</code>可解决</p>
<hr>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p>这个命令会一起安装hexo的命令，所以能在命令行直接敲太香了</p>
<p>添加到环境变量</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo echo &#x27;PATH=&quot;$PATH:./node_modules/.bin&quot;&#x27; &gt;&gt; ~/.profile</span><br></pre></td></tr></table></figure>

<p>这样以后直接用<code>hexo + 命令</code>就可以了</p>
<h2 id="搭站"><a href="#搭站" class="headerlink" title="搭站"></a>搭站</h2><p>首先，初始化hexo最基本的文件到我们本地的目录，最后一个是文件名自己取，比如我就叫<code>4XWi11</code>，放我自己的 博客</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo init 4XWi11</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd 4XWi11;npm install</span><br></pre></td></tr></table></figure>

<p>生成网站页面</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo g[enerator]</span><br></pre></td></tr></table></figure>

<p>可以看到生成了一个<code>public</code>的文件，就是我们生成的网站目录</p>
<p>打开这个网页，启动服务</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo s[erver]</span><br></pre></td></tr></table></figure>

<p>当然一开始是本地的</p>
<h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><ul>
<li><p>新建文章</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new &quot;BLOG_TITLE&quot;</span><br></pre></td></tr></table></figure>

<p>其实就是新建了一个md文件</p>
</li>
<li><p>进行博客编辑</p>
</li>
<li><p>重新生成启动</p>
<p>再次运行<code>g</code>和<code>s</code>命令</p>
</li>
</ul>
<p>可惜可惜，和github一样不支持latex</p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>这里用Git部署</p>
<p>所以当然最最开始需要在github上有一个创库，<strong>注意：仓库的命名一定要是USER_NAME.github.io</strong>，比如我的就是<code>4XWi11.github.io</code>，后续浏览器可以直接访问</p>
<p>安装插件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>如果不确定插件是否已经安装，可以用下条命令检测</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm list hexo-deployer-git</span><br></pre></td></tr></table></figure>

<p>然后更改<code>_config.yml</code>文件的选项，设置部署在<code>git</code>上，并给出仓库地址</p>
<p>运行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>完成部署</p>
<p>遇到了密码不匹配的问题，要在输入密码的地方输入token</p>
<p><img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211003171639758.png" alt="image-20211003171639758"></p>
<p>勾选</p>
<p><img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211003171714542.png" alt="image-20211003171714542"></p>
<p>生成将token复制到需要填密码的地方即可</p>
<p>但是我又遇到上述操作做完还是认证失败的情况</p>
<p>然后把仓库删了重新创建一遍就好了，但总不能更新一遍就删掉重来吧</p>
<p><em>我知道了，不告诉你们，我再也不乱动方向盘了</em></p>
<p>但是后面还可能出现连不上github的情况，开关一下代理有时候可以解决</p>
<p>可是不知道是不是子系统的原因，我以为它会帮我自动记忆，没想到每次都要手输，看看之后有没有好的解决办法</p>
<h2 id="NexT主题"><a href="#NexT主题" class="headerlink" title="NexT主题"></a>NexT主题</h2><p>这里我跟着<a href="https://theme-materialized.github.io/how-to-build-a-hexo-blog/">materialized作者的博客</a>，一起来尝试NexT主题的配置</p>
<p>首先当然是把主题从github下载下来，放在themes目录</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/next-theme/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>

<h3 id="换图标的问题"><a href="#换图标的问题" class="headerlink" title="换图标的问题"></a>换图标的问题</h3><p>图标来自<a href="https://fontawesome.com/v5.15/icons?d=gallery&p=2">FontAwesome</a></p>
<p>图标的名称，建议点开那个图标，你会发现名称的全称</p>
<h3 id="设置评论的问题"><a href="#设置评论的问题" class="headerlink" title="设置评论的问题"></a>设置评论的问题</h3><p>没有评论的博客是没有灵魂的，但是NexT8.8不支持内置valine</p>
<p>废了废了</p>
<p><img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211006141656383.png" alt="image-20211006141656383"></p>
<p>这个等配置好latex再来配置吧</p>
<hr>
<p>最后决定用utterances了，配置方便，也不用挂梯子，只要有一个github账号，师傅们就可以找我玩啦</p>
<p>怎么配置可以看<a href="https://jasper1024.com/jasper/968d55ac/#languages-yml">这位师傅的</a></p>
<h3 id="代码主题"><a href="#代码主题" class="headerlink" title="代码主题"></a>代码主题</h3><p>首先选择引擎</p>
<img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211006141448204.png" alt="image-20211006141448204" style="zoom:50%;" />

<p>然后再选主题</p>
<img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211006141336676.png" alt="image-20211006141336676" style="zoom:50%;" />

<p>这里可以预览<a href="https://theme-next.js.org/highlight/">https://theme-next.js.org/highlight/</a></p>
<h3 id="latex"><a href="#latex" class="headerlink" title="latex"></a>latex</h3><p>新版本的缺点就是网上的教程比较难找，但是我把这些全部开起来就可以了</p>
<img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211007095926085.png" alt="image-20211007095926085" style="zoom:67%;" />

<p>还很nice得自动在居中公式后面加上了标号，可以好好利用</p>
<img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211007095954761.png" alt="image-20211007095954761" style="zoom:67%;" />

<h3 id="背景图片"><a href="#背景图片" class="headerlink" title="背景图片"></a>背景图片</h3><p>我跟着<a href="https://hxhowl.com/posts/e6f9a475/">这篇博客</a>做的</p>
<h3 id="更改字体颜色"><a href="#更改字体颜色" class="headerlink" title="更改字体颜色"></a>更改字体颜色</h3><p>因为换了背景可能有footer的颜色看不清，看这位<a href="https://blog.csdn.net/weixin_40837922/article/details/88047241">师傅的</a>改了下颜色</p>
<h3 id="更改字体大小"><a href="#更改字体大小" class="headerlink" title="更改字体大小"></a>更改字体大小</h3><p>16px有点小大，喜欢殷实一点的，我这个版本在这里调，前面有一大推东西，直接拉到最后em那里改就好</p>
<img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211007114800161.png" alt="image-20211007114800161" style="zoom:67%;" />

<h3 id="吉祥物"><a href="#吉祥物" class="headerlink" title="吉祥物"></a>吉祥物</h3><p>跟着上面背景图片的师傅搞了下，先用他的wanko，但看到这只狗觉得好爱哈哈哈，暂时就不换别的了（其他的都是二刺螈（doge））</p>
<hr>
<p>行吧，就这样吧，能用就行</p>
<p>花了几天时间搞花头，都是平面化学习，以后更应该专注于博客质量了</p>
]]></content>
      <categories>
        <category>关于操作的一些问题</category>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>从这里开始的</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu软件更新失败解决</title>
    <url>/posts/ade40a32/</url>
    <content><![CDATA[<h1 id="ubuntu软件更新失败解决"><a href="#ubuntu软件更新失败解决" class="headerlink" title="ubuntu软件更新失败解决"></a>ubuntu软件更新失败解决</h1><span id="more"></span>

<p>才知道之前那么多次<code>apt update</code>一直是失败，报这样的错</p>
<img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211003101535464.png" alt="image-20211003101535464" style="zoom: 80%;" />

<p>此外还会报<code>Certificate verification failed: The certificate is NOT trusted.</code>的错误</p>
<p>具体原因没有深究，可能是源的问题</p>
<ul>
<li><p><strong>证书问题</strong></p>
<p>直接编辑源的文件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p>将<code>https</code>替换成<code>http</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<p>进行一次更新</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>

<p>安装证书</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install ca-certificates</span><br></pre></td></tr></table></figure>

<p>显然<code>http</code>是不安全的，所有的数据包都会被监听，但不知道为什么阿里源都是<code>http</code>；总之在成功过后，还是把<code>http</code>替换回<code>https</code></p>
<p>最后再进行一次更新</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure></li>
<li><p><strong>没有Release文件</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd /etc/apt/sources.list.d</span><br></pre></td></tr></table></figure>

<p>删除这个文件，有别的文件，我也不知道可不可以删，反正我一般就是这个<br><img src="http://mypictruebed.oss-cn-hangzhou.aliyuncs.com/img/image-20211003102507534.png" alt="image-20211003102507534"></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo rm fcitx-team-ubuntu-nightly-bionic.list</span><br></pre></td></tr></table></figure>

<p>最后更新一下，成功</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>关于操作的一些问题</category>
      </categories>
  </entry>
</search>
